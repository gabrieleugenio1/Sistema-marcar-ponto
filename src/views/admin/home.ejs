<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/reset.css">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/home.css"> 
    <link rel="icon" type="image/x-icon" href="/assets/logo-branca.png">
  </head>
  <body>
    <%- include("../partials/header"); %>
    <main class="main__home">
      <h1 class="h1__funcionario">Funcionários</h1>
      <table class="tabela__funcionario" border="1">
        <thead>
        <tr>
            <th>Matrícula</th>
            <th>Funcionário</th>
            <th>Função</th>
            <th>Setor</th>
            <th>CPF</th>
            <th>Carga Horaria Semanal</th>
            <th>Horas pagas na semana</th>
            <th>Semana concluída</th>
            <th>Última Entrada</th>
            <th>Última Saída</th>
            <th>Editar</th>
            <th>Ativo</th>
        </tr>
        </thead>
        <tbody>
          <% for(funcionario of funcionarios) { %> 
          <tr>           
            <td><%= funcionario.matricula %></td>
            <td><%= funcionario.nome.replace(/(^\w{1})|(\s+\w{1})/g, letter => letter.toUpperCase()) %></td>
            <td><%= funcionario.funcao.replace(/(^\w{1})|(\s+\w{1})/g, letter => letter.toUpperCase()) %></td>
            <td><%= funcionario.setor.replace(/(^\w{1})|(\s+\w{1})/g, letter => letter.toUpperCase()) %></td>
            <td><%= funcionario.cpf %></td>
            <td><%= funcionario.cargahorariasemanal %>h</td>
            <td><%= funcionario.horasPagas ? funcionario.horasPagas + 'h': 'Nenhuma'%></td>
            <td><%= funcionario.semanaPaga %></td>
            <td><%= funcionario.ultimaEntrada ? funcionario.ultimaEntrada +'h': "Nenhuma" %></td>
            <td><%= funcionario.ultimoPonto ? funcionario.ultimoPonto + 'h': "Nenhuma" %></td>
            <td><a href="/admin/alterarfuncionario/<%= funcionario.matricula %>">Alterar</a></td>
            <td><%= funcionario.ativo == 1 ? "Sim" : "Não" %></td>     
        </tr>
        <% } %>  %>
        </tbody>
     </table>
    </main>
  </body>
</html>
